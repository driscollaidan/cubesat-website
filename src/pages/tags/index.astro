---
import { getCollection } from 'astro:content';

const posts = await getCollection('posts');
const tags = Array.from(
  new Set(posts.flatMap(post => post.data.tags ?? []))
);
---

<html lang="en">
  <head><title>All Tags</title></head>
  <body>
    <main class="tags">
      <h1>All Tags</h1>
      <ul>
        {tags.map(tag => (
          <li><a href={`/tags/${tag}/`}>{tag}</a></li>
        ))}
      </ul>
    </main>
  </body>
</html>